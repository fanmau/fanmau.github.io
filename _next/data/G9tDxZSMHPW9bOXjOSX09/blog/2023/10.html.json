{"pageProps":{"postData":{"birthtime":"2023-05-02T01:32:57.638Z","mtime":"2023-05-02T01:32:57.638Z","slug":"2023/10","wordCount":526,"contentHtml":"<h2>创建全局布局</h2>\n<p>创建一个名为 <code>components</code> 的文件夹，在这个文件夹里创建一个 <code>layout.js</code> 文件，在里面写入下面的代码：</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">Layout</span></span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">return</span> <span class=\"token operator\">&#x3C;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>接下来，打开 <code>pages/posts/first-post.js</code> 文件，在顶部引入 <code>Layout</code> 组件 <code>../../components/layout </code>，并使其成为最外层组件：</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">Head</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">Link</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'next/link'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token maybe-class-name\">Layout</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'../../components/layout'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">FirstPost</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Layout</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Head</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&#x3C;</span>title<span class=\"token operator\">></span><span class=\"token maybe-class-name\">FanMa</span>'s <span class=\"token maybe-class-name\">First</span> <span class=\"token maybe-class-name\">Post</span><span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n            <span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span><span class=\"token maybe-class-name\">Head</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&#x3C;</span>h1<span class=\"token operator\">></span><span class=\"token maybe-class-name\">FanMa</span>'s <span class=\"token maybe-class-name\">First</span> <span class=\"token maybe-class-name\">Post</span><span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n            <span class=\"token operator\">&#x3C;</span>h2<span class=\"token operator\">></span>\n                <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Link</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span><span class=\"token maybe-class-name\">Back</span> to home<span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span><span class=\"token maybe-class-name\">Link</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n        <span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span><span class=\"token maybe-class-name\">Layout</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2>创建全局样式</h2>\n<p>现在，让我们为Layout组件添加一些样式。为此，我们将使用 <code>CSS Modules</code> ，它允许您在 React 组件中导入 CSS 文件。</p>\n<p>创建一个名为 <code>components/layout.module.css</code> 的文件，并在文件时写入以下内​​容：</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">.</span><span class=\"token property-access\">container</span> <span class=\"token punctuation\">{</span>\n  max<span class=\"token operator\">-</span>width<span class=\"token operator\">:</span> 36rem<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 1rem<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 3rem auto 6rem<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>在要 <code>components/layout.js</code> 文件里使用 <code>.container</code> 这个类，你还需要完成下面这两步：</p>\n<ul>\n<li>1、导入 CSS 文件并为其指定一个名称，例如 <code>styles</code> 。</li>\n<li>2、用作styles.container_className 。</li>\n</ul>\n<p>打开 <code>components/layout.js</code> 文件，并在里面写入下面的代码内容：</p>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword module\">import</span> <span class=\"token imports\">styles</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./layout.module.css'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword module\">export</span> <span class=\"token keyword module\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">Layout</span></span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">return</span> <span class=\"token operator\">&#x3C;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span><span class=\"token property-access\">container</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&#x3C;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>如果您现在访问 <code>http://localhost:3000/posts/first-post</code> 页面，您应该会看到文字在网页中居中的位置。</p>\n<h3>自动生成唯一的类名</h3>\n<p>现在，如果您查看浏览器开发工具中的 HTML，您会注意到组件div呈现的Layout类名如下所示layout_container__...：</p>\n<div class=\"remark-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>__next<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>layout_container__fbLkO<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>h1</span><span class=\"token punctuation\">></span></span>FanMa's First Post<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>h1</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>h2</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Back to home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>h2</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre></div>\n<p>这就是 <code>CSS Modules</code> 所做的：它自动生成唯一的类名。只要使用 <code>CSS Modules</code> ，就不必担心类名冲突。</p>\n<p>此外，Next.js 的代码拆分功能也适用于CSS 模块。它确保为每个页面加载最少数量的 CSS。这导致更小的包大小。</p>\n<p>CSS 模块在构建时从 <code>JavaScript</code> 包中提取，并生成.css由 Next.js 自动加载的文件。</p>\n","title":"使用 Next.js 创建全局布局和样式","date":"2023-03-23","category":"博客日记","tag":["Next.js","布局","样式"]}},"__N_SSG":true}