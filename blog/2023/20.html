<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="twitter:card" content="summary_large_image"/><title>使用 Next.js 读取 Markdown 内容数据 | FanMa</title><meta name="keywords" content="FanMa,博客,Next.js"/><meta property="og:type" content="website"/><meta property="og:site_name" content="FanMa"/><meta property="og:title" content="FanMa 博客"/><meta property="og:locale" content="zh-CN"/><meta property="og:url" content="https://fanmau.github.io"/><meta property="og:image" content="https://fanmav.github.io/images/fanma.jpg"/><meta name="viewport" content="width=device-width, initial-scale=1"/><script type="application/ld+json">{
          "@context": "http://schema.org",
          "@type": "Article",
          "name": "FanMa",
          "headline": "使用 Next.js 读取 Markdown 内容数据",
          "author": {
            "@type": "Person",
            "name": "黄胜丰",
            "url": "https://fanmav.github.io"
          },
          "datePublished": "2023-05-02T01:32:57.638Z",
          "image": "",
          "articleSection": "",
          "url": "https://fanmav.github.io/blog/2023/20.html"
        }
    </script><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/ecba3476100f022a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ecba3476100f022a.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b35e07f0771a75a0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b35e07f0771a75a0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-ac88a2a245aea9ab.js" defer=""></script><script src="/_next/static/chunks/main-04721928ae71efe1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a5c337602b2b8174.js" defer=""></script><script src="/_next/static/chunks/765-f88be7b9869573be.js" defer=""></script><script src="/_next/static/chunks/338-0e0ca1e58a2e5276.js" defer=""></script><script src="/_next/static/chunks/681-c132199fb3549349.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-b307b68a4a74a460.js" defer=""></script><script src="/_next/static/G9tDxZSMHPW9bOXjOSX09/_buildManifest.js" defer=""></script><script src="/_next/static/G9tDxZSMHPW9bOXjOSX09/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="fanma"><div class="maw"><nav class="nav"><ul class="nav-list"><li class="logo"><a href="/"><div class="logo-fw"><div class="logo-f"><div class="__className_2bdad4">F</div></div></div><div class="logo-link">FanMa</div></a></li><li class="menu"><a href="/blog.html">Blog</a></li></ul></nav><header class="header"><div class="works"><p>FanMa 博客 包含了关于前端学习的一系列内容，涵盖了 HTML、CSS、JavaScript、TypeScript、React、Next.js 等全栈方面的学习笔记。博客以技术为核心，深入浅出地讲解了这些技术的基础概念、实际应用以及最佳实践，并且结合了博主的个人经验和实践经历进行分享，有助于读者更好地理解和掌握这些技术。如果你有前端学习的需求或者对这些技术感兴趣，那么 FanMa 博客 将是帮助你实现这些目标的绝佳资源。</p></div></header><main class="main"><div class="book"><article><h1 class="title">使用 Next.js 读取 Markdown 内容数据<div class="title-date"><small><time dateTime="2023-04-02">2023年04月02日</time> - <span>约 <!-- -->433<!-- --> 字</span></small></div></h1><div><h2>渲染 Markdown</h2>
<p>为了渲染 <code>Markdown</code> 内容，我们将使用 <code>remark</code> 库。首先，让我们安装它：</p>
<p>注意：这一步其实我们在项目一开始就已经做了，这里就不需要再安装 <code>remark</code> 库了，可以跳过安装 <code>remark</code> 这一步。</p>
<ul>
<li>第一篇文章 《 <a href="/blog/2023/6.html">如何使用 Next.js 构建高效的博客网站</a> 》 里我们在 package.json 文件里添加的内容，就已经有 <code>remark</code> 了。</li>
</ul>
<div class="remark-highlight"><pre class="language-ssh"><code class="language-ssh">npm install remark remark-html</code></pre></div>
<p>然后，打开 <code>lib/posts.js</code> ，并在文件顶部添加以下导入：</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> remark <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'remark'</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports">html</span> <span class="token keyword module">from</span> <span class="token string">'remark-html'</span><span class="token punctuation">;</span>
</code></pre></div>
<p>并在同一文件中更新 <code>getPostData()</code> 函数以使用 <code>remark</code> ：</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getPostData</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fullPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>postsDirectory<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.md</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> fileContents <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token method function property-access">readFileSync</span><span class="token punctuation">(</span>fullPath<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Use gray-matter to parse the post metadata section</span>
  <span class="token keyword">const</span> matterResult <span class="token operator">=</span> <span class="token function">matter</span><span class="token punctuation">(</span>fileContents<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Use remark to convert markdown into HTML string</span>
  <span class="token keyword">const</span> processedContent <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">remark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>matterResult<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> contentHtml <span class="token operator">=</span> processedContent<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Combine the data with the id and contentHtml</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">,</span>
    contentHtml<span class="token punctuation">,</span>
    <span class="token spread operator">...</span>matterResult<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>重要提示：我们在 <code>getPostData</code> 中添加了 <code>async</code> 关键字，因为我们需要使用 <code>await</code> 来调用 <code>remark</code> 。 <code>async/await</code> 允许您异步获取数据。</p>
<p>这意味着我们需要更新 <code>pages/posts/[id].js</code> 中的 <code>getStaticProps</code> ，在调用 <code>getPostData</code> 时使用 <code>await</code> ：</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Add the "await" keyword like this:</span>
  <span class="token keyword">const</span> postData <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getPostData</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      postData<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>最后，在 <code>pages/posts/[id].js</code> 中更新 <code>Post</code> 组件，以使用 <code>dangerouslySetInnerHTML</code> 呈现 <code>contentHtml</code> 里的内容：</p>
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Post</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> postData <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&#x3C;</span><span class="token maybe-class-name">Layout</span><span class="token operator">></span>
      <span class="token punctuation">{</span>postData<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span>br <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">{</span>postData<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span>br <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">{</span>postData<span class="token punctuation">.</span><span class="token property-access">date</span><span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span>br <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&#x3C;</span>div dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">__html</span><span class="token operator">:</span> postData<span class="token punctuation">.</span><span class="token property-access">contentHtml</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token maybe-class-name">Layout</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>尝试再次访问这些页面：</p>
<p><code>http://localhost:3000/posts/first http://localhost:3000/posts/about</code></p>
<p>您现在应该看到博客内容了：</p>
<p>我们快完成了！下一篇文章我们将优化每个页面。</p>
</div></article></div></main><div class="back"><a href="/">← Back to home</a></div><footer class="footer">Copyright © 1985-2023 FanMa All Rights Reserved.</footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"birthtime":"2023-05-02T01:32:57.638Z","mtime":"2023-05-02T01:32:57.638Z","slug":"2023/20","wordCount":433,"contentHtml":"\u003ch2\u003e渲染 Markdown\u003c/h2\u003e\n\u003cp\u003e为了渲染 \u003ccode\u003eMarkdown\u003c/code\u003e 内容，我们将使用 \u003ccode\u003eremark\u003c/code\u003e 库。首先，让我们安装它：\u003c/p\u003e\n\u003cp\u003e注意：这一步其实我们在项目一开始就已经做了，这里就不需要再安装 \u003ccode\u003eremark\u003c/code\u003e 库了，可以跳过安装 \u003ccode\u003eremark\u003c/code\u003e 这一步。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e第一篇文章 《 \u003ca href=\"/blog/2023/6.html\"\u003e如何使用 Next.js 构建高效的博客网站\u003c/a\u003e 》 里我们在 package.json 文件里添加的内容，就已经有 \u003ccode\u003eremark\u003c/code\u003e 了。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-ssh\"\u003e\u003ccode class=\"language-ssh\"\u003enpm install remark remark-html\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e然后，打开 \u003ccode\u003elib/posts.js\u003c/code\u003e ，并在文件顶部添加以下导入：\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e remark \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'remark'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword module\"\u003eimport\u003c/span\u003e \u003cspan class=\"token imports\"\u003ehtml\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'remark-html'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e并在同一文件中更新 \u003ccode\u003egetPostData()\u003c/code\u003e 函数以使用 \u003ccode\u003eremark\u003c/code\u003e ：\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e fullPath \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e path\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ejoin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epostsDirectory\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003eid\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e.md\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e fileContents \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e fs\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003ereadFileSync\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efullPath\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e'utf8'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// Use gray-matter to parse the post metadata section\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e matterResult \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ematter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efileContents\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// Use remark to convert markdown into HTML string\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e processedContent \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003eremark\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003euse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ehtml\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003eprocess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ematterResult\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econtent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e contentHtml \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e processedContent\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token method function property-access\"\u003etoString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// Combine the data with the id and contentHtml\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    id\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    contentHtml\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003ematterResult\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edata\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e重要提示：我们在 \u003ccode\u003egetPostData\u003c/code\u003e 中添加了 \u003ccode\u003easync\u003c/code\u003e 关键字，因为我们需要使用 \u003ccode\u003eawait\u003c/code\u003e 来调用 \u003ccode\u003eremark\u003c/code\u003e 。 \u003ccode\u003easync/await\u003c/code\u003e 允许您异步获取数据。\u003c/p\u003e\n\u003cp\u003e这意味着我们需要更新 \u003ccode\u003epages/posts/[id].js\u003c/code\u003e 中的 \u003ccode\u003egetStaticProps\u003c/code\u003e ，在调用 \u003ccode\u003egetPostData\u003c/code\u003e 时使用 \u003ccode\u003eawait\u003c/code\u003e ：\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003egetStaticProps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e params \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// Add the \"await\" keyword like this:\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e postData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword control-flow\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eprops\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      postData\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e最后，在 \u003ccode\u003epages/posts/[id].js\u003c/code\u003e 中更新 \u003ccode\u003ePost\u003c/code\u003e 组件，以使用 \u003ccode\u003edangerouslySetInnerHTML\u003c/code\u003e 呈现 \u003ccode\u003econtentHtml\u003c/code\u003e 里的内容：\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword module\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword module\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003e\u003cspan class=\"token maybe-class-name\"\u003ePost\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e postData \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword control-flow\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eLayout\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epostData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003etitle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebr \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epostData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eid\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebr \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epostData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003edate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebr \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ediv dangerouslySetInnerHTML\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003e__html\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e postData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003econtentHtml\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token maybe-class-name\"\u003eLayout\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e尝试再次访问这些页面：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ehttp://localhost:3000/posts/first http://localhost:3000/posts/about\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e您现在应该看到博客内容了：\u003c/p\u003e\n\u003cp\u003e我们快完成了！下一篇文章我们将优化每个页面。\u003c/p\u003e\n","title":"使用 Next.js 读取 Markdown 内容数据","date":"2023-04-02","category":"博客日记","tag":["Next.js","Markdown","内容"]}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["2023","20.html"]},"buildId":"G9tDxZSMHPW9bOXjOSX09","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>